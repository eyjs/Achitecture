<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>프로젝트 기술 아키텍처 및 업무 분장 가이드</title>
    <style>
      body,
      h1,
      h2,
      h3,
      p,
      table {
        margin: 0;
        padding: 0;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans',
          'Helvetica Neue', sans-serif;
        color: #333;
      }
      body {
        background-color: #f9fafb;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 2rem;
      }
      .header {
        background-color: #2c3e50;
        color: white;
        padding: 2.5rem;
        text-align: center;
        border-radius: 12px;
        margin-bottom: 2rem;
      }
      .header h1 {
        font-size: 2.5rem;
      }
      .section {
        background-color: #ffffff;
        margin-bottom: 2rem;
        padding: 2.5rem;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
      }
      .section h2 {
        font-size: 2rem;
        color: #2c3e50;
        margin-bottom: 1.5rem;
        padding-bottom: 0.5rem;
        border-bottom: 3px solid #3498db;
      }
      .section h3 {
        font-size: 1.5rem;
        color: #34495e;
        margin-top: 2rem;
        margin-bottom: 1rem;
      }
      .diagram-container {
        display: flex;
        justify-content: center;
        align-items: center;
        padding: 2rem;
        background-color: #f8f9fa;
        border-radius: 8px;
        margin-top: 1rem;
        overflow-x: auto;
      }
      .diagram-container svg {
        max-width: 100%;
        height: auto;
      }
      table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 1.5rem;
      }
      th,
      td {
        padding: 1rem;
        text-align: left;
        border: 1px solid #e0e0e0;
      }
      th {
        background-color: #f2f2f2;
        font-weight: 600;
      }
      td ul,
      td ol {
        padding-left: 20px;
        margin: 0;
      }
      li {
        margin-bottom: 0.5rem;
      }
      .process-description {
        margin-top: 1.5rem;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <div class="header">
        <h1 style="color: white">프로젝트 기술 아키텍처 및 업무 분장 가이드</h1>
      </div>

      <section id="big-picture">
        <h2>0. 프로젝트의 큰 그림 (The Big Picture)</h2>
        <p>
          <strong>목표:</strong> 인터넷상의 방대한 비정형 데이터를 AI를 통해 신뢰도 높은 '구조화된 지식'으로 자동
          변환하여, 데이터 기반의 의사결정을 지원하는 지능형 플랫폼을 구축합니다.
        </p>
        <div class="diagram-container">
          <svg width="800" height="150" viewBox="0 0 800 150" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow"
                viewBox="0 0 10 10"
                refX="5"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#555" />
              </marker>
            </defs>
            <!-- Nodes -->
            <g>
              <rect x="10" y="30" width="150" height="90" rx="8" fill="#e3f2fd" stroke="#333" stroke-width="1" />
              <text x="85" y="65" text-anchor="middle" font-size="20px" fill="#333">🌐</text>
              <text x="85" y="90" text-anchor="middle" font-size="14px" font-weight="bold" fill="#333">인터넷</text>
              <text x="85" y="110" text-anchor="middle" font-size="12px" fill="#555">(비정형 데이터)</text>
            </g>
            <g>
              <rect x="220" y="30" width="150" height="90" rx="8" fill="#e8f5e9" stroke="#333" stroke-width="1" />
              <text x="295" y="65" text-anchor="middle" font-size="20px" fill="#333">⚙️</text>
              <text x="295" y="90" text-anchor="middle" font-size="14px" font-weight="bold" fill="#333">
                데이터 파이프라인
              </text>
              <text x="295" y="110" text-anchor="middle" font-size="12px" fill="#555">(추출, 정제, 벡터화)</text>
            </g>
            <g>
              <rect x="430" y="30" width="150" height="90" rx="8" fill="#fffde7" stroke="#333" stroke-width="1" />
              <text x="505" y="65" text-anchor="middle" font-size="20px" fill="#333">📚</text>
              <text x="505" y="90" text-anchor="middle" font-size="14px" font-weight="bold" fill="#333">
                구조화된 지식
              </text>
              <text x="505" y="110" text-anchor="middle" font-size="12px" fill="#555">(Vector DB, Meta DB)</text>
            </g>
            <g>
              <rect x="640" y="30" width="150" height="90" rx="8" fill="#f3e5f5" stroke="#333" stroke-width="1" />
              <text x="715" y="65" text-anchor="middle" font-size="20px" fill="#333">💡</text>
              <text x="715" y="90" text-anchor="middle" font-size="14px" font-weight="bold" fill="#333">
                최종 서비스
              </text>
              <text x="715" y="110" text-anchor="middle" font-size="12px" fill="#555">(검색, 분석, Q&A)</text>
            </g>
            <!-- Arrows -->
            <line x1="165" y1="75" x2="215" y2="75" stroke="#555" stroke-width="2" marker-end="url(#arrow)" />
            <line x1="375" y1="75" x2="425" y2="75" stroke="#555" stroke-width="2" marker-end="url(#arrow)" />
            <line x1="585" y1="75" x2="635" y2="75" stroke="#555" stroke-width="2" marker-end="url(#arrow)" />
          </svg>
        </div>
      </section>

      <section id="architecture">
        <h2>1. 전체 시스템 아키텍처</h2>
        <p><strong>핵심:</strong> 각 서비스는 독립적으로 작동하며, 메시지 큐를 통해 비동기적으로 연결됩니다.</p>
        <div class="diagram-container">
          <svg width="400" height="520" viewBox="0 0 400 520" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow-blue"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#3498db" />
              </marker>
            </defs>
            <!-- Components -->
            <g>
              <rect x="70" y="20" width="260" height="100" rx="10" stroke="#ccc" stroke-width="1" fill="#f8f9fa" />
              <text x="200" y="45" text-anchor="middle" font-weight="bold">Python 크롤러 클러스터</text>
              <rect x="100" y="60" width="80" height="40" rx="5" fill="#fffde7" stroke="#333" />
              <text x="140" y="85" text-anchor="middle" font-size="12px">Crawler 1</text>
              <rect x="220" y="60" width="80" height="40" rx="5" fill="#fffde7" stroke="#333" />
              <text x="260" y="85" text-anchor="middle" font-size="12px">Crawler ...</text>
            </g>
            <g>
              <rect x="70" y="150" width="260" height="60" rx="10" stroke="#ccc" stroke-width="1" fill="#f8f9fa" />
              <text x="200" y="175" text-anchor="middle" font-weight="bold">데이터 파이프라인</text>
              <rect x="110" y="185" width="180" height="20" rx="5" fill="#fce4ec" stroke="#333" />
              <text x="200" y="199" text-anchor="middle" font-size="12px">Message Queue (RabbitMQ/Kafka)</text>
            </g>
            <g>
              <rect x="70" y="240" width="260" height="100" rx="10" stroke="#ccc" stroke-width="1" fill="#f8f9fa" />
              <text x="200" y="265" text-anchor="middle" font-weight="bold">.NET 백엔드</text>
              <rect x="100" y="280" width="80" height="40" rx="5" fill="#e8f5e9" stroke="#333" />
              <text x="140" y="305" text-anchor="middle" font-size="12px">Worker 1</text>
              <rect x="220" y="280" width="80" height="40" rx="5" fill="#e8f5e9" stroke="#333" />
              <text x="260" y="305" text-anchor="middle" font-size="12px">Worker ...</text>
            </g>
            <g>
              <rect x="70" y="370" width="260" height="140" rx="10" stroke="#ccc" stroke-width="1" fill="#f8f9fa" />
              <text x="200" y="395" text-anchor="middle" font-weight="bold">인프라</text>
              <rect x="110" y="410" width="180" height="90" rx="5" fill="#e0f7fa" stroke="#333" />
              <text x="200" y="435" text-anchor="middle" font-size="12px">AI Gateway</text>
              <text x="200" y="460" text-anchor="middle" font-size="12px">Vector DB</text>
              <text x="200" y="485" text-anchor="middle" font-size="12px">Meta DB</text>
            </g>

            <!-- Arrows -->
            <path d="M 200 120 V 150" stroke="#3498db" stroke-width="2" fill="none" marker-end="url(#arrow-blue)" />
            <text x="210" y="140" font-size="12px" fill="#3498db">1. Raw HTML 전송</text>
            <path d="M 200 210 V 240" stroke="#3498db" stroke-width="2" fill="none" marker-end="url(#arrow-blue)" />
            <text x="210" y="230" font-size="12px" fill="#3498db">2. 데이터 전달</text>
            <path d="M 200 340 V 370" stroke="#3498db" stroke-width="2" fill="none" marker-end="url(#arrow-blue)" />
            <text x="210" y="360" font-size="12px" fill="#3498db">3. 데이터 처리/저장</text>
          </svg>
        </div>
      </section>

      <section id="process">
        <h2>2. 각 영역별 프로세스 도식화</h2>

        <h3>2.1. Python 크롤러 심층 분석 (스파이더링)</h3>
        <p>
          <strong>역할:</strong> 시작 URL로부터 거미줄처럼 연결된 모든 페이지를 재귀적으로 탐색하며, 중복 없이 모든
          컨텐츠를 수집합니다.
        </p>
        <div class="diagram-container">
          <svg width="800" height="400" viewBox="0 0 800 400" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow-green"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#27ae60" />
              </marker>
            </defs>
            <!-- Components -->
            <rect x="20" y="100" width="150" height="200" rx="10" fill="#e8f5e9" stroke="#333" />
            <text x="95" y="125" text-anchor="middle" font-weight="bold">URL 큐 (To Visit)</text>
            <text x="95" y="150" text-anchor="middle" font-size="12px">/page1</text>
            <text x="95" y="170" text-anchor="middle" font-size="12px">/page2</text>
            <text x="95" y="190" text-anchor="middle" font-size="12px">...</text>

            <rect x="250" y="150" width="300" height="100" rx="10" fill="#e3f2fd" stroke="#333" />
            <text x="400" y="175" text-anchor="middle" font-weight="bold">크롤러 엔진</text>

            <rect x="630" y="100" width="150" height="200" rx="10" fill="#fffde7" stroke="#333" />
            <text x="705" y="125" text-anchor="middle" font-weight="bold">방문한 URL (Visited)</text>
            <text x="705" y="150" text-anchor="middle" font-size="12px">/home</text>
            <text x="705" y="170" text-anchor="middle" font-size="12px">/about</text>
            <text x="705" y="190" text-anchor="middle" font-size="12px">...</text>

            <rect x="325" y="320" width="150" height="50" rx="10" fill="#fce4ec" stroke="#333" />
            <text x="400" y="350" text-anchor="middle" font-weight="bold">메시지 큐</text>

            <!-- Flow -->
            <path d="M 170 180 H 250" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrow-green)" />
            <text x="180" y="175" font-size="12px">2. URL 추출</text>

            <path
              d="M 400 150 V 50 H 95 V 100"
              stroke="#27ae60"
              stroke-width="2"
              fill="none"
              marker-end="url(#arrow-green)"
            />
            <text x="250" y="45" font-size="12px">7. 새로운 URL 추가 (반복)</text>

            <path d="M 400 250 V 320" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrow-green)" />
            <text x="410" y="290" font-size="12px">4. HTML 전송</text>

            <path d="M 550 200 H 630" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrow-green)" />
            <text x="560" y="195" font-size="12px">6. 방문 기록</text>

            <text x="400" y="205" text-anchor="middle" font-size="12px">3. HTML 수집</text>
            <text x="400" y="225" text-anchor="middle" font-size="12px">5. 링크 분석/필터링</text>
            <text x="95" y="80" text-anchor="middle" font-size="12px">1. 시작 URL</text>
            <path d="M 95 95 V 80" stroke="#27ae60" stroke-width="2" fill="none" marker-end="url(#arrow-green)" />
          </svg>
        </div>
        <div class="process-description">
          <ol>
            <li><strong>초기화:</strong> '방문할 URL 큐'에 시작 URL을 넣습니다.</li>
            <li>
              <strong>URL 추출:</strong> 큐에서 URL을 하나 꺼내 '방문한 URL 목록'에 추가하여 중복 방문을 방지합니다.
            </li>
            <li><strong>데이터 수집:</strong> 해당 URL의 HTML 페이지를 다운로드합니다.</li>
            <li>
              <strong>데이터 전송:</strong> 수집된 원본 HTML을 **메시지 큐**로 즉시 전송하여 백엔드가 처리하도록 합니다.
            </li>
            <li>
              <strong>링크 분석 및 필터링:</strong> HTML 내의 모든 링크를 추출하고, ①내부 링크인지, ②새로운 링크인지
              검사합니다.
            </li>
            <li><strong>방문 기록:</strong> 처리한 URL을 '방문한 URL 목록'에 기록합니다.</li>
            <li>
              <strong>큐에 추가 및 반복:</strong> 필터링을 통과한 새로운 URL들만 '방문할 URL 큐'에 다시 추가하고, 큐가
              빌 때까지 전 과정을 반복합니다.
            </li>
          </ol>
        </div>

        <h3>2.2. 데이터 파이프라인 심층 분석 (메시지 큐)</h3>
        <p>
          <strong>역할:</strong> 크롤러(Publisher)와 백엔드(Consumer) 사이의 통신을 중개하여, 시스템의 안정성과 확장성을
          보장하는 핵심 요소입니다.
        </p>
        <div class="diagram-container">
          <svg width="900" height="400" viewBox="0 0 900 400" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow-mq"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#c0392b" />
              </marker>
              <marker
                id="arrow-dlq"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#7f8c8d" />
              </marker>
            </defs>

            <rect x="20" y="150" width="120" height="80" rx="10" fill="#fffde7" stroke="#333" />
            <text x="80" y="180" text-anchor="middle" font-weight="bold">🐍 Python</text>
            <text x="80" y="200" text-anchor="middle" font-size="12px">크롤러 (Publisher)</text>

            <rect x="220" y="160" width="120" height="60" rx="10" fill="#f3e5f5" stroke="#333" />
            <text x="280" y="190" text-anchor="middle" font-weight="bold">Exchange</text>

            <rect x="440" y="80" width="120" height="60" rx="10" fill="#e8f5e9" stroke="#333" />
            <text x="500" y="110" text-anchor="middle" font-weight="bold">Main Queue</text>

            <rect x="440" y="240" width="120" height="60" rx="10" fill="#f1f2f6" stroke="#333" />
            <text x="500" y="260" text-anchor="middle" font-weight="bold">Dead Letter</text>
            <text x="500" y="280" text-anchor="middle" font-weight="bold">Queue (DLQ)</text>

            <rect x="680" y="80" width="120" height="80" rx="10" fill="#e0f7fa" stroke="#333" />
            <text x="740" y="110" text-anchor="middle" font-weight="bold">⚙️ .NET</text>
            <text x="740" y="130" text-anchor="middle" font-size="12px">백엔드 (Consumer)</text>

            <rect x="680" y="240" width="120" height="60" rx="10" fill="#f1f2f6" stroke="#333" />
            <text x="740" y="270" text-anchor="middle" font-weight="bold">모니터링</text>
            <text x="740" y="285" text-anchor="middle" font-size="12px">(실패 분석)</text>

            <!-- Arrows -->
            <path d="M 140 190 H 220" stroke="#c0392b" stroke-width="2" fill="none" marker-end="url(#arrow-mq)" />
            <text x="150" y="180" font-size="12px">1. 메시지 발행</text>

            <path
              d="M 340 190 C 380 190, 380 110, 440 110"
              stroke="#c0392b"
              stroke-width="2"
              fill="none"
              marker-end="url(#arrow-mq)"
            />
            <text x="350" y="155" font-size="12px">2. 라우팅</text>

            <path d="M 560 110 H 680" stroke="#c0392b" stroke-width="2" fill="none" marker-end="url(#arrow-mq)" />
            <text x="570" y="100" font-size="12px">3. 메시지 소비</text>

            <path
              d="M 740 160 C 740 220, 560 220, 560 110"
              stroke="#27ae60"
              stroke-width="2"
              stroke-dasharray="5,5"
              fill="none"
              marker-end="url(#arrow-mq)"
            />
            <text x="580" y="180" font-size="12px" fill="#27ae60">4a. 처리 성공 (ACK)</text>

            <path
              d="M 740 160 C 740 230, 580 230, 560 270"
              stroke="#e74c3c"
              stroke-width="2"
              stroke-dasharray="5,5"
              fill="none"
              marker-end="url(#arrow-mq)"
            />
            <text x="580" y="225" font-size="12px" fill="#e74c3c">4b. 처리 실패 (NACK)</text>
            <text x="580" y="245" font-size="12px" fill="#e74c3c">5. DLQ로 이동</text>

            <path d="M 560 270 H 680" stroke="#7f8c8d" stroke-width="2" fill="none" marker-end="url(#arrow-dlq)" />
          </svg>
        </div>

        <h3>2.3. .NET 백엔드 (데이터 처리 영역)</h3>
        <p><strong>역할:</strong> 메시지 큐로부터 받은 데이터를 가공, 벡터화하여 최종 데이터베이스에 저장합니다.</p>
        <div class="diagram-container">
          <svg width="300" height="550" viewBox="0 0 300 550" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow-purple"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#8e44ad" />
              </marker>
            </defs>
            <rect x="50" y="10" width="200" height="50" rx="5" fill="#fce4ec" stroke="#333" />
            <text x="150" y="30" text-anchor="middle">메시지 큐에서</text>
            <text x="150" y="48" text-anchor="middle">HTML 수신</text>
            <path d="M 150 60 V 80" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />

            <rect x="50" y="80" width="200" height="50" rx="5" fill="#e8f5e9" stroke="#333" />
            <text x="150" y="100" text-anchor="middle">HTML 전처리</text>
            <text x="150" y="118" text-anchor="middle">(불필요 태그 제거)</text>
            <path d="M 150 130 V 150" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />

            <rect x="50" y="150" width="200" height="50" rx="5" fill="#ede7f6" stroke="#333" />
            <text x="150" y="170" text-anchor="middle">LLM 호출</text>
            <text x="150" y="188" text-anchor="middle">(프롬프트 + 정제 텍스트)</text>
            <path d="M 150 200 V 220" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />

            <rect x="50" y="220" width="200" height="50" rx="5" fill="#e8f5e9" stroke="#333" />
            <text x="150" y="240" text-anchor="middle">구조화된</text>
            <text x="150" y="258" text-anchor="middle">JSON 데이터 수신</text>

            <path d="M 150 270 V 290" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />
            <rect x="50" y="290" width="200" height="50" rx="5" fill="#ede7f6" stroke="#333" />
            <text x="150" y="310" text-anchor="middle">임베딩 모델 호출</text>
            <text x="150" y="328" text-anchor="middle">(JSON 내 텍스트)</text>

            <path d="M 150 340 V 360" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />
            <rect x="50" y="360" width="200" height="40" rx="5" fill="#e8f5e9" stroke="#333" />
            <text x="150" y="385" text-anchor="middle">벡터(Embedding) 수신</text>

            <path d="M 150 400 V 420" stroke="#8e44ad" stroke-width="2" marker-end="url(#arrow-purple)" />
            <rect x="50" y="420" width="200" height="50" rx="5" fill="#e0f7fa" stroke="#333" />
            <text x="150" y="440" text-anchor="middle">Vector DB에</text>
            <text x="150" y="458" text-anchor="middle">벡터 저장</text>

            <path
              d="M 100 270 H 25 V 490 H 50"
              stroke="#8e44ad"
              stroke-width="2"
              fill="none"
              marker-end="url(#arrow-purple)"
            />
            <text x="35" y="380" font-size="12px" text-anchor="middle">메타데이터</text>
            <rect x="50" y="490" width="200" height="50" rx="5" fill="#e0f7fa" stroke="#333" />
            <text x="150" y="510" text-anchor="middle">RDB에 JSON 및</text>
            <text x="150" y="528" text-anchor="middle">기타 정보 저장</text>
          </svg>
        </div>
      </section>

      <section id="azure-architecture">
        <h2>5. Microsoft Azure 기반 인프라 아키텍처 예시</h2>
        <p>Public Cloud 환경인 Microsoft Azure를 활용하여 전체 시스템을 구축할 경우의 아키텍처 예시입니다.</p>
        <div class="diagram-container">
          <svg width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <marker
                id="arrow-azure"
                viewBox="0 0 10 10"
                refX="8"
                refY="5"
                markerWidth="6"
                markerHeight="6"
                orient="auto-start-reverse"
              >
                <path d="M 0 0 L 10 5 L 0 10 z" fill="#0078D4" />
              </marker>
            </defs>
            <rect
              x="10"
              y="10"
              width="780"
              height="480"
              rx="15"
              stroke="#0078D4"
              stroke-width="2"
              fill="none"
              stroke-dasharray="10,5"
            />
            <text x="400" y="40" text-anchor="middle" font-weight="bold" font-size="18px" fill="#0078D4">
              Microsoft Azure Cloud
            </text>

            <!-- Components -->
            <g>
              <rect x="40" y="70" width="180" height="80" rx="10" fill="#fff" stroke="#ccc" />
              <text x="130" y="95" text-anchor="middle" font-weight="bold">Python 크롤러</text>
              <text x="130" y="125" text-anchor="middle" font-size="12px" fill="#0078D4">Azure Container Apps</text>
            </g>
            <g>
              <rect x="310" y="70" width="180" height="80" rx="10" fill="#fff" stroke="#ccc" />
              <text x="400" y="95" text-anchor="middle" font-weight="bold">메시지 큐</text>
              <text x="400" y="125" text-anchor="middle" font-size="12px" fill="#0078D4">Azure Service Bus</text>
            </g>
            <g>
              <rect x="580" y="70" width="180" height="80" rx="10" fill="#fff" stroke="#ccc" />
              <text x="670" y="95" text-anchor="middle" font-weight="bold">.NET 백엔드</text>
              <text x="670" y="125" text-anchor="middle" font-size="12px" fill="#0078D4">Azure Container Apps</text>
            </g>

            <!-- Storage & AI -->
            <g>
              <rect x="40" y="180" width="340" height="150" rx="10" fill="#f0f6ff" stroke="#ccc" />
              <text x="210" y="205" text-anchor="middle" font-weight="bold">데이터 저장소 (Storage)</text>
              <rect x="60" y="220" width="140" height="90" rx="5" fill="#fff" stroke="#ccc" />
              <text x="130" y="245" text-anchor="middle" font-size="12px" font-weight="bold">Vector DB</text>
              <text x="130" y="270" text-anchor="middle" font-size="12px" fill="#0078D4">Azure AI Search</text>
              <rect x="220" y="220" width="140" height="90" rx="5" fill="#fff" stroke="#ccc" />
              <text x="290" y="245" text-anchor="middle" font-size="12px" font-weight="bold">Relational DB</text>
              <text x="290" y="270" text-anchor="middle" font-size="12px" fill="#0078D4">Azure SQL DB</text>
            </g>
            <g>
              <rect x="420" y="180" width="340" height="150" rx="10" fill="#f0f6ff" stroke="#ccc" />
              <text x="590" y="205" text-anchor="middle" font-weight="bold">AI 서비스</text>
              <rect x="440" y="220" width="300" height="90" rx="5" fill="#fff" stroke="#ccc" />
              <text x="590" y="245" text-anchor="middle" font-size="12px" font-weight="bold">LLM / Embedding</text>
              <text x="590" y="270" text-anchor="middle" font-size="12px" fill="#0078D4">Azure OpenAI Service</text>
            </g>

            <!-- Common Infra -->
            <g>
              <rect x="40" y="350" width="720" height="110" rx="10" fill="#f0f6ff" stroke="#ccc" />
              <text x="400" y="375" text-anchor="middle" font-weight="bold">공통 인프라</text>
              <rect x="60" y="390" width="160" height="50" rx="5" fill="#fff" stroke="#ccc" />
              <text x="140" y="415" text-anchor="middle" font-size="12px">Azure Blob Storage</text>
              <rect x="240" y="390" width="160" height="50" rx="5" fill="#fff" stroke="#ccc" />
              <text x="320" y="415" text-anchor="middle" font-size="12px">Azure Container Registry</text>
              <rect x="420" y="390" width="160" height="50" rx="5" fill="#fff" stroke="#ccc" />
              <text x="500" y="415" text-anchor="middle" font-size="12px">Azure DevOps / Actions</text>
              <rect x="600" y="390" width="140" height="50" rx="5" fill="#fff" stroke="#ccc" />
              <text x="670" y="415" text-anchor="middle" font-size="12px">Azure Monitor</text>
            </g>

            <!-- Arrows -->
            <path d="M 220 110 H 310" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow-azure)" />
            <path d="M 490 110 H 580" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow-azure)" />
            <path d="M 670 150 V 180" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow-azure)" />
            <path d="M 670 330 V 350" stroke="#0078D4" stroke-width="2" fill="none" marker-end="url(#arrow-azure)" />
          </svg>
        </div>
        <h3>Azure 서비스 역할 및 선택 이유</h3>
        <table>
          <thead>
            <tr>
              <th>Azure 서비스</th>
              <th>역할 (Role)</th>
              <th>선택 이유</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Azure Container Apps</strong></td>
              <td>Python 크롤러 & .NET 백엔드 실행 환경</td>
              <td>
                서버리스 컨테이너 환경으로, Docker 이미지를 쉽게 배포하고 트래픽에 따라 자동 확장/축소되어 관리가
                용이합니다.
              </td>
            </tr>
            <tr>
              <td><strong>Azure Service Bus</strong></td>
              <td>데이터 파이프라인 (메시지 큐)</td>
              <td>
                안정적인 메시지 전달을 보장하며, Dead Letter Queue 등 엔터프라이즈급 기능으로 데이터 처리 실패에
                효과적으로 대응할 수 있습니다.
              </td>
            </tr>
            <tr>
              <td><strong>Azure OpenAI Service</strong></td>
              <td>AI Gateway / LLM / 임베딩</td>
              <td>
                Microsoft가 관리하는 OpenAI의 최신 모델(GPT-4 등)을 안정적으로 사용할 수 있으며, Private Network 등 보안
                기능이 강화되어 있습니다.
              </td>
            </tr>
            <tr>
              <td><strong>Azure AI Search</strong></td>
              <td>Vector DB (의미 기반 검색)</td>
              <td>
                텍스트 데이터의 벡터 검색 기능을 기본적으로 제공하며, 키워드 검색과 하이브리드 검색까지 지원하여 강력한
                검색 서비스 구축이 가능합니다.
              </td>
            </tr>
            <tr>
              <td><strong>Azure SQL Database</strong></td>
              <td>메타데이터 저장소 (RDB)</td>
              <td>
                완전 관리형 SQL 데이터베이스로, 백업, 확장, 보안 등이 자동화되어 안정적인 데이터 관리가 가능합니다.
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="issues">
        <h2>3. 영역별 핵심 이슈사항 및 고려사항</h2>
        <table>
          <thead>
            <tr>
              <th>영역</th>
              <th>핵심 이슈사항</th>
              <th>담당자 고려사항</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>Python 크롤러</strong></td>
              <td>
                <ul>
                  <li>IP 차단 및 User-Agent 관리</li>
                  <li>동적 컨텐츠 (JavaScript 렌더링)</li>
                  <li><code>robots.txt</code> 정책 준수</li>
                  <li>비정형적인 HTML 구조 대응</li>
                </ul>
              </td>
              <td>
                <ul>
                  <li>Proxy 서버 및 User-Agent 로테이션 전략 수립</li>
                  <li><code>Selenium</code>/<code>Playwright</code> 도입 및 렌더링 시간 최적화</li>
                  <li>크롤링 전 <code>robots.txt</code> 파싱 로직 필수 구현</li>
                  <li>특정 사이트 의존적인 로직 최소화</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td><strong>데이터 파이프라인</strong></td>
              <td>
                <ul>
                  <li>메시지 유실 방지 (Durability)</li>
                  <li>처리 실패 메시지 관리 (Dead Letter Queue)</li>
                  <li>메시지 포맷 표준화</li>
                  <li>RabbitMQ vs Kafka 선택</li>
                </ul>
              </td>
              <td>
                <ul>
                  <li>메시지 큐 설정에서 'Durable' 옵션 활성화</li>
                  <li>실패한 메시지를 별도 큐로 보내 재처리 또는 분석 로직 구현</li>
                  <li>크롤러와 백엔드 간 데이터 스키마(Schema) 정의 및 공유</li>
                  <li>처리량, 복잡성을 고려하여 적절한 브로커 선정</li>
                </ul>
              </td>
            </tr>
            <tr>
              <td><strong>.NET 백엔드</strong></td>
              <td>
                <ul>
                  <li>LLM API 비용 및 속도 제한(Rate Limit)</li>
                  <li>프롬프트 엔지니어링 (추출 정확도)</li>
                  <li>데이터 유효성 검증</li>
                  <li>대규모 데이터 저장 및 조회 성능</li>
                </ul>
              </td>
              <td>
                <ul>
                  <li>API 호출 비용 모니터링 및 예산 관리 시스템 구축</li>
                  <li>다양한 프롬프트 테스트를 통한 최적의 결과 도출 및 버전 관리</li>
                  <li>LLM이 반환한 JSON 데이터의 형식과 값을 검증하는 로직 구현</li>
                  <li>Vector DB 인덱싱 전략 및 RDB 쿼리 최적화</li>
                </ul>
              </td>
            </tr>
          </tbody>
        </table>
      </section>

      <section id="timeline">
        <h2>4. 영역별 예상 개발 소요 시간 (학습 기간 포함)</h2>
        <p>
          <strong>기준:</strong> 신규 기술(Docker, RabbitMQ/Kafka) 학습 및 프로토타이핑 기간을 포함한 현실적인
          일정입니다. (중급 개발자 1인 기준)
        </p>
        <table>
          <thead>
            <tr>
              <th>영역 (Area)</th>
              <th>주요 업무 (Key Tasks)</th>
              <th>예상 소요 시간 (Estimated Time)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>기술 학습 및 프로토타이핑</strong></td>
              <td>
                <ul>
                  <li>Docker 기본 개념 및 컨테이너화 학습</li>
                  <li>메시지 큐(RabbitMQ/Kafka) 개념 및 동작 원리 학습</li>
                  <li>간단한 Publisher/Consumer 프로토타입 개발</li>
                </ul>
              </td>
              <td><strong>3 - 4 주</strong></td>
            </tr>
            <tr>
              <td><strong>Python 크롤러</strong></td>
              <td>
                <ul>
                  <li>정적/동적 페이지 수집 로직 구현</li>
                  <li>스파이더링 및 링크 필터링 로직 구현</li>
                  <li>Proxy, User-Agent 로테이션 적용</li>
                </ul>
              </td>
              <td><strong>6 - 8 주</strong></td>
            </tr>
            <tr>
              <td><strong>데이터 파이프라인</strong></td>
              <td>
                <ul>
                  <li>메시지 큐(RabbitMQ/Kafka) 설정 및 연동</li>
                  <li>메시지 스키마 정의 및 직렬화/역직렬화</li>
                  <li>Dead Letter Queue 등 오류 처리 정책 구현</li>
                </ul>
              </td>
              <td><strong>3 - 5 주</strong></td>
            </tr>
            <tr>
              <td><strong>.NET 백엔드</strong></td>
              <td>
                <ul>
                  <li>메시지 큐 Consumer 로직 구현</li>
                  <li>LLM Gateway 연동 및 프롬프트 관리</li>
                  <li>임베딩 및 Vector DB/RDB 저장 로직 구현</li>
                </ul>
              </td>
              <td><strong>8 - 10 주</strong></td>
            </tr>
            <tr>
              <td><strong>통합 및 테스트</strong></td>
              <td>
                <ul>
                  <li>전체 파이프라인 E2E(End-to-End) 테스트</li>
                  <li>성능 부하 테스트 및 병목 현상 개선</li>
                  <li>배포 및 모니터링 환경 구축</li>
                </ul>
              </td>
              <td><strong>4 - 5 주</strong></td>
            </tr>
          </tbody>
        </table>
      </section>
    </div>
  </body>
</html>
